# Автотест для разных языков интерфейса

## Задание

[Описание задания на сайте](https://stepik.org/lesson/237240/step/9)  
Вам как разработчику автотестов нужно реализовать решение, которое позволит запускать автотесты для разных языков пользователей, передавая нужный язык в командной строке.  

1. Создайте GitHub-репозиторий, в котором будут лежать файлы [conftest.py](conftest.py) и [test_items.py](test_items.py).
1. Добавьте в файл `conftest.py` обработчик, который считывает из командной строки параметр **language**.
1. Реализуйте в файле `conftest.py` логику запуска браузера с указанным языком пользователя. Браузер должен объявляться в фикстуре **browser** и передаваться в тест как параметр.
1. В файл `test_items.py` напишите тест, который проверяет, что страница товара на сайте содержит кнопку добавления в корзину. Например, можно проверять товар, доступный по ссылке:  
<http://selenium1py.pythonanywhere.com/catalogue/coders-at-work_207/>
1. Тест должен запускаться с параметром language следующей командой:  
`pytest --language=es test_items.py`  
и проходить успешно. Достаточно, чтобы код работал только для браузера Сhrome.

## Что проверяется

1. Тест из репозитория можно запустить командой `pytest --language=es`, тест успешно проходит.
1. Проверка работоспособности кода для разных языков. Добавьте в файл с тестом команду `time.sleep(30)` сразу после открытия ссылки. Запустите тест с параметром `--language=fr` и визуально проверьте, что фраза на кнопке добавления в корзину выглядит так: **"Ajouter au panier"**.
1. Браузер должен объявляться в фикстуре **browser** и передаваться в тест как параметр.
1. В тесте проверяется наличие кнопки добавления в корзину. Селектор кнопки является уникальным для проверяемой страницы. **Есть assert**.
1. Название тестового метода внутри файла **test_items.py** соответствует задаче. Название *test_something* не удовлетворяет требованиям.

## Особенности реализации

1. Добавлено тестирование по ссылке:  
<https://selenium1py.pythonanywhere.com/catalogue/hacking-exposed-wireless_208/>  
1. Реализован запуск теста на разных браузерах: Chrome и Firefox. Каждому браузеру надо установить свой вебдрайвер. Для выбора используется параметр коммандной строки **browser_name**. Например:  
`pytest --browser_name=firefox test_items.py` 

## Для информации

### Параметры

Пример с параметрами:
`pytest -s -v --tb=line test_parser.py`

- `--tb=line` - чтобы сократить лог с результатами теста
- `-s` - выводить результат работы команды **print()**
- `-v` - подробная информация о прохождении тестов

### Перезапуск тестов

Установка:  
`pip install pytest-rerunfailures`  
Пример с перезапуском:  
`pytest --reruns 1 test_rerun.py`

- `--reruns 1` - один перезапуск
